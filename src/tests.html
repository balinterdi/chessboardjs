<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Chessboard Tests</title>
  <link rel="stylesheet" href="chessboard.css" />
</head>

<body>
  <div id="myBoard" style="width: 400px"></div>
  <div id="myBoard2" style="width: 400px"></div>
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>
  <script src="chessboard.js"></script>
  <script>

    var onDropHandler = function (source, target, piece, newPos, oldPos, orientation) {
      setTimeout(board.position, 250, oldPos)
      // setTimeout(board.setShadeClassName, 1000, 'shade-yellow');
      // setTimeout(board.setShadeClassName, 3000, 'shade-red');
    }

    var board = Chessboard('#myBoard', {
      draggable: true,
      position: 'start',
      onDrop: onDropHandler
    })

    board.setAddGhost(true);
    board.annotate('e4', 'Nice move!');
    board.annotate('a8', 'Cool!');
    setTimeout(board.annotate, 1000, 'g3', null, function () {
      $(this).prop('Counter', 0).animate({
        Counter: 100
      }, {
          duration: 1000,
          easing: 'swing',
          step: function (now) {
            var next = Math.ceil(now);
            var sign = next >= 0 ? "+" : "";
            $(this).text(sign + next);
          }
        });
    });
    // setTimeout(board.removeAnnotations, 3000);

  // var board = Chessboard('#myBoard', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R')
  // var board = Chessboard('#myBoard', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R')
  </script>
</body>

</html>